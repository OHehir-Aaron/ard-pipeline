[ancillary]
anci_root = /g/data/v10/eoancillarydata
ephem_data_root = %(anci_root)s/ephemeris_kill
aerosol_path = %(anci_root)s/aerosol/AATSR/2.0
aerosol_fname = %(anci_root)s/aerosol/AATSR/2.0/aerosol.h5
brdf_path = /g/data/u39/public/data/modis/lpdaac-mosaics-cmar/v1-hdf4/aust/MCD43A1.005
brdf_premodis_path = /g/data/v10/eoancillarydata/brdf-jl/data
dem_path = %(anci_root)s/elevation/world_1deg
dem_tc = %(anci_root)s/elevation/tc_aus_3sec/dsm1sv1_0_Clean.img
ozone_path = %(anci_root)s/lookup_tables/ozone
satfilter_path = %(anci_root)s/lookup_tables/satellite_filter
vapour_path = %(anci_root)s/water_vapour
landsea_path = %(anci_root)s/Land_Sea_Rasters
tle_path = %(anci_root)s/sensor-specific

[work]
ancillary_fname = ancillary.h5
metadata_fname = nbar_metadata.yaml
lon_grid_fname = longitude.h5
lat_grid_fname = latitude.h5
satellite_solar_fname = satellite-solar.h5
bilinear_outputs_fname = bilinear_ortho_outputs.pkl
modtran_root = mod
tc_root = tc_intermediates
reflectance_root = Reflectance_Outputs
brdf_root = brdf_intermediates
bilinear_root = bilinear_outputs
targets_root = targets
header_slope_fname = slope_angle_inputs
x_tile_size = -1
y_tile_size = 100
compression = lzf

[modtran]
version = 5.2.1
root = /projects/u46/opt/modules/MODTRAN/%(version)s
exe = %(root)s/Mod90_5.2.1_ifort.exe
profile_format = {profile}.tp5
coords = TL,TM,TR,ML,MM,MR,BL,BM,BR
albedos = 0,1,t
workpath_format = {coord}/alb_{albedo}
input_format = %(workpath_format)s/mod5root.in

[write_tp5]
output_format = {coord}/alb_{albedo}/{coord}_alb_{albedo}.tp5

[extract_flux]
input_format = {coord}/alb_{albedo}/{coord}_alb_{albedo}_b.flx
output_format = {coord}-alb-{albedo}.h5
out_fname = accumulated-solar-irradiance.h5

[coefficients]
chn_input_format = {coord}/alb_{albedo}/{coord}_alb_{albedo}.chn
output_format1 = {coord}_alb.txt
output_format2 = {factor}_out_b_{band}.txt
out_fname1 = coefficients_fmt1.h5
out_fname2 = coefficients_fmt2.h5

[bilinear]
factors = fv,fs,b,s,a,dir,dif,ts
output_format = {factor}-band{band}.h5

[extract_dsm]
dsm_fname = dsm-extract.h5
dsm_buffer_width = 250

[self_shadow]
self_shadow_fname = self-shadow-mask.h5
slope_aspect_fname = slope-aspect.h5
incident_fname = incident-angles.h5
exiting_fname = exiting-angles.h5
relative_slope_fname = relative-slope.h5

[cast_shadow]
sun_direction_fname = cast_shadow_sun.h5
satellite_direction_fname = cast_shadow_satellite.h5

[terrain_correction]
shadow_sub_matrix_height = 500
shadow_sub_matrix_width = 500
rori = 0.52
lambertian_format = reflectance_lambertian_{band}.tif
brdf_format = reflectance_bdrf_{band}.tif
terrain_format = reflectance_terrain_{band}.tif

[packaging]
products = nbar,nbart

[cleanup]
cleanup = 1

[core]
logging_conf_file: /projects/u46/opt/modules/gaip/test-aerosol-hdf5/ga-neo-landsat-processor/workflow/logging.cfg

[legacy_outputs]
required = 0
sat_filter_fname = satellitefilter
modtran_input_fname = modtraninput
albedos = 0,1
output_format = {coord}_alb_{albedo}.txt
