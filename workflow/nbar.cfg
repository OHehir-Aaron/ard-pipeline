[ancillary]
anci_root = /g/data/v10/eoancillarydata
ephem_data_root = %(anci_root)s/ephemeris_kill
aerosol_path = %(anci_root)s/aerosol/AATSR/2.0
aerosol_fname = %(anci_root)s/aerosol/AATSR/2.0/aerosol.h5
brdf_path = /g/data/u39/public/data/modis/lpdaac-mosaics-cmar/v1-hdf4/aust/MCD43A1.005
brdf_premodis_path = /g/data/v10/eoancillarydata/brdf-jl/data
dem_path = %(anci_root)s/elevation/world_1deg
dem_tc = %(anci_root)s/elevation/tc_aus_3sec/dsm1sv1_0_Clean.img
ozone_path = %(anci_root)s/lookup_tables/ozone
satfilter_path = %(anci_root)s/lookup_tables/satellite_filter
vapour_path = %(anci_root)s/water_vapour
landsea_path = %(anci_root)s/Land_Sea_Rasters

[work]
dem_fname = elevation.pkl
ozone_fname = ozone.pkl
vapour_fname = vapour.pkl
brdf_fname = brdf.pkl
aerosol_fname = aerosol.pkl
metadata_fname = nbar_metadata.yaml
lon_grid_fname = longitude.tif
lat_grid_fname = latitude.tif
sat_view_fname = satellite_view.tif
sat_azimuth_fname = satellite_azimuth.tif
solar_zenith_fname = solar_zenith.tif
solar_azimuth_fname = solar_azimuth.tif
relative_azimuth_fname = relative_azimuth.tif
time_fname = time.tif
centreline_fname = centreline
header_angle_fname = headerangle
coordinator_fname = coordinator
boxline_fname = boxline
bilinear_outputs_fname = bilinear_ortho_outputs.pkl
modtran_root = mod
tc_root = tc_intermediates
reflectance_root = Reflectance_Outputs
brdf_root = brdf_intermediates
bilinear_root = bilinear_outputs
targets_root = targets
header_slope_fname = slope_angle_inputs
x_tile_size = -1
y_tile_size = 100

[brdf]
factor = 1.0

[modtran]
version = 5.2.1
root = /projects/u46/opt/modules/MODTRAN/%(version)s
exe = %(root)s/Mod90_5.2.1_ifort.exe
profile_format = {profile}.tp5
coords = TL,TM,TR,ML,MM,MR,BL,BM,BR
albedos = 0,1,t
workpath_format = {coord}/alb_{albedo}
input_format = %(workpath_format)s/mod5root.in
flx_output_format = %(workpath_format)s/{coord}_alb_{albedo}_b.flx
chn_output_format = %(workpath_format)s/{coord}_alb_{albedo}.chn

[write_tp5]
coords = TL,TM,TR,ML,MM,MR,BL,BM,BR
albedos = 0,1,t
output_format = {coord}/alb_{albedo}/{coord}_alb_{albedo}.tp5

[extract_flux]
coords = TL,TM,TR,ML,MM,MR,BL,BM,BR
albedos = 0,1,t
input_format = {coord}/alb_{albedo}/{coord}_alb_{albedo}_b.flx
output_format = {coord}_alb_{albedo}.dir

[coefficients]
coords = TL,TM,TR,ML,MM,MR,BL,BM,BR
chn_input_format = {coord}/alb_{albedo}/{coord}_alb_{albedo}.chn
dir_input_format = {coord}_alb_{albedo}.dir
output_format1 = {coord}_alb.txt
output_format2 = {factor}_out_b_{band}.txt

[bilinear]
factors = fv,fs,b,s,a,dir,dif,ts
input_format = {factor}_out_b_{band}.txt
output_format = {factor}_band{band}.tif

[extract_dsm]
dsm_subset = dsm_subset.tif
dsm_smooth_subset = dsm_subset_smoothed.tif
dsm_buffer_width = 250

[self_shadow]
self_shadow_fname = self_shadow_mask.tif
slope_fname = slope.tif
aspect_fname = aspect.tif
incident_fname = incident_angle.tif
exiting_fname = exiting_angle.tif
azimuth_incident_fname = azimuth_incident_angle.tif
azimuth_exiting_fname = azimuth_exiting_angle.tif
relative_slope_fname = relative_slope.tif

[cast_shadow]
sun_direction_fname = cast_shadow_sun.tif
satellite_direction_fname = cast_shadow_satellite.tif

[terrain_correction]
shadow_sub_matrix_height = 500
shadow_sub_matrix_width = 500
rori = 0.52
rfl_levels = reflectance_lambertian,reflectance_brdf,reflectance_terrain
output_format = {level}_{band}.bin

[packaging]
products = nbar,nbart

[cleanup]
cleanup = 1

[core]
logging_conf_file: /projects/u46/opt/modules/gaip/test-aerosol-hdf5/ga-neo-landsat-processor/workflow/logging.cfg

[fuqin_requires]
required = 0
sat_filter_fname = satellitefilter
modtran_input_fname = modtraninput
coords = TL,TM,TR,ML,MM,MR,BL,BM,BR
albedos = 0,1
output_format = {coord}_alb_{albedo}.txt
